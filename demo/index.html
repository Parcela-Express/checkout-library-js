<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://parcela-sub-api-components.s3.us-east-1.amazonaws.com/checkout-library-js/v1.7.0/index.css" />
    <title>Checkout Component</title>
  </head>
  <body>
    <script src="https://parcela-sub-api-components.s3.us-east-1.amazonaws.com/checkout-library-js/v1.7.0/index.js"></script>
    <script src="./build/index.js" ></script>
    <style>
        #container {
            max-width: 600px;
            margin: auto;
            border: 1px solid black;
            padding: 15px;
            border-radius: 10px;
        }
    </style>
    <div id="container">
      <div id="checkout-container"></div>
    </div>
    <script>
      const customerData = {
        amount_cents: 20000,
        description: "Venda Teste",
        form_payment: "credit",
        installment_plan: {
          number_installments: 1,
        },
        customer: {
          email: "teste@fulano.com.br",
          ip: "99.106.129.24",
          first_name: "Testando",
          last_name: "Teste",
          document: "29896147027",
          billing_address: {
            city: "Belo Horizonte",
            country: "BR",
            house_number_or_name: "10",
            postal_code: "31010500",
            state: "MG",
            street: "Rua Adamina",
          },
        },
        pre_capture: false,
        has_split_rules: false,
        split_rules: [
          {
            amount: 10000,
            seller_id: "d6a245d2-b705-42a1-8d4a-0956aaa00fed",
            description: "Descrição do split",
          },
          {
            amount: 5000,
            seller_id: "99d1f231-557a-44b9-ae5d-9b5f533c684e"
          }
        ],
        confirmation_required: false,
        active_3ds: false,
        service_id: "seu id (opcional)",
        protocol: "PROTOCOLO123658",
        recurrence: false,
        recurrence_day: 10
      };
      const config = {
        clientKey: "test_IBIF7UD6SNB7ZJG3KVEGM3UP5M57BJ4B",
        environment: "TEST",
        apiUrl: "https://sandbox.parcelaexpress.com.br",
        sellerKey: "e137d1b6-8f84-4377-ab5c-d27dd24415bd",
        successReturnUrl: "https://success-url.com.br",
        errorReturnUrl: "https://error-url.com.br",
        customerData,
        onChange: (state) => console.log("onc", state),
        onSubmit: (state) => console.log("ons", state),
        onSubmitError: (state) => console.log("onerr", state),
        beforeSubmit: (state) => console.log("before submit", state),
        afterSubmit: (state) => console.log("after submit", state),
        showPayButton: true,
      };

      const checkoutInstance = new window.Checkout.Checkout(config);
      checkoutInstance.mount("checkout-container");
    </script>
  </body>
</html>
